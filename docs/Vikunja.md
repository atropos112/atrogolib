<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# vikunja

```go
import "github.com/atropos112/gocore/vikunja"
```

## Index

- [func ConsumeWebhookCallback\(body io.ReadCloser, callback func\(webhook WebhookCallback\) error\) error](<#ConsumeWebhookCallback>)
- [func RegisterVikunjaWebhookHandler\(path string, callback func\(Webhook WebhookCallback, c \*Client\) error\) error](<#RegisterVikunjaWebhookHandler>)
- [type Client](<#Client>)
  - [func GetVikunjaAPIClient\(token, apiURL string\) \(\*Client, error\)](<#GetVikunjaAPIClient>)
  - [func \(c \*Client\) AddLabelToTask\(taskID, labelID int\) \(LabelID, error\)](<#Client.AddLabelToTask>)
  - [func \(c \*Client\) CreateProjectWebhook\(projectID int, webhook Webhook\) \(Webhook, error\)](<#Client.CreateProjectWebhook>)
  - [func \(c \*Client\) DeleteProjectWebhook\(projectID, webhookID int\) \(Webhook, error\)](<#Client.DeleteProjectWebhook>)
  - [func \(c \*Client\) GetAllLabels\(\) \(\[\]Label, error\)](<#Client.GetAllLabels>)
  - [func \(c \*Client\) GetProject\(projectID int\) \(Project, error\)](<#Client.GetProject>)
  - [func \(c \*Client\) GetProjectTasks\(projectID int\) \(\[\]Task, error\)](<#Client.GetProjectTasks>)
  - [func \(c \*Client\) GetProjectWebhooks\(projectID int\) \(\[\]Webhook, error\)](<#Client.GetProjectWebhooks>)
  - [func \(c \*Client\) GetProjects\(\) \(\[\]Project, error\)](<#Client.GetProjects>)
  - [func \(c \*Client\) GetTask\(taskID int\) \(Task, error\)](<#Client.GetTask>)
  - [func \(c \*Client\) GetTaskComments\(taskID int\) \(\[\]Comment, error\)](<#Client.GetTaskComments>)
  - [func \(c \*Client\) GetUsersOnAProject\(projectID int\) \(\[\]User, error\)](<#Client.GetUsersOnAProject>)
  - [func \(c \*Client\) UpdateProject\(project Project\) \(Project, error\)](<#Client.UpdateProject>)
  - [func \(c \*Client\) UpdateProjectWebhook\(projectID int, webhook Webhook\) \(Webhook, error\)](<#Client.UpdateProjectWebhook>)
  - [func \(c \*Client\) UpdateTask\(task Task\) \(Task, error\)](<#Client.UpdateTask>)
- [type Comment](<#Comment>)
  - [func GetLatestComment\(comments \[\]Comment\) \(Comment, error\)](<#GetLatestComment>)
- [type Label](<#Label>)
  - [func LabelsWithGivenTitles\(labels \[\]Label, titles \[\]string\) \(\[\]Label, error\)](<#LabelsWithGivenTitles>)
- [type LabelID](<#LabelID>)
- [type Project](<#Project>)
- [type Task](<#Task>)
- [type User](<#User>)
- [type VikunjaWebhookEventType](<#VikunjaWebhookEventType>)
- [type Webhook](<#Webhook>)
- [type WebhookCallback](<#WebhookCallback>)
- [type WebhookCallbackData](<#WebhookCallbackData>)


<a name="ConsumeWebhookCallback"></a>
## func ConsumeWebhookCallback

```go
func ConsumeWebhookCallback(body io.ReadCloser, callback func(webhook WebhookCallback) error) error
```

ConsumeWebhookCallback consumes a webhook callback and calls the callback function

<a name="RegisterVikunjaWebhookHandler"></a>
## func RegisterVikunjaWebhookHandler

```go
func RegisterVikunjaWebhookHandler(path string, callback func(Webhook WebhookCallback, c *Client) error) error
```

RegisterVikunjaWebhookHandler registers a webhook handler for Vikunja Webhook

Typical usage is something like: l := utils.GetInitLogger\(\)

```
if err := vikunja.RegisterVikunjaWebhookHandler("/", SomeWebhookHandler); err != nil {
	log.Fatal(err)
}
```

utils.RunAPIServer\(8080\)

<a name="Client"></a>
## type Client

Client is the interface for the Vikunja API client

```go
type Client utils.AuthenticatedAPIClient
```

<a name="GetVikunjaAPIClient"></a>
### func GetVikunjaAPIClient

```go
func GetVikunjaAPIClient(token, apiURL string) (*Client, error)
```

GetVikunjaAPIClient returns a new Vikunja API client

<a name="Client.AddLabelToTask"></a>
### func \(\*Client\) AddLabelToTask

```go
func (c *Client) AddLabelToTask(taskID, labelID int) (LabelID, error)
```

AddLabelToTask adds a label to a task

<a name="Client.CreateProjectWebhook"></a>
### func \(\*Client\) CreateProjectWebhook

```go
func (c *Client) CreateProjectWebhook(projectID int, webhook Webhook) (Webhook, error)
```

CreateProjectWebhook creates a webhook for a project

<a name="Client.DeleteProjectWebhook"></a>
### func \(\*Client\) DeleteProjectWebhook

```go
func (c *Client) DeleteProjectWebhook(projectID, webhookID int) (Webhook, error)
```

DeleteProjectWebhook deletes a webhook for a project

<a name="Client.GetAllLabels"></a>
### func \(\*Client\) GetAllLabels

```go
func (c *Client) GetAllLabels() ([]Label, error)
```

GetAllLabels returns a list of labels for a task

<a name="Client.GetProject"></a>
### func \(\*Client\) GetProject

```go
func (c *Client) GetProject(projectID int) (Project, error)
```

GetProject returns a specific project

<a name="Client.GetProjectTasks"></a>
### func \(\*Client\) GetProjectTasks

```go
func (c *Client) GetProjectTasks(projectID int) ([]Task, error)
```

GetProjectTasks returns a list of tasks for a project

<a name="Client.GetProjectWebhooks"></a>
### func \(\*Client\) GetProjectWebhooks

```go
func (c *Client) GetProjectWebhooks(projectID int) ([]Webhook, error)
```

GetProjectWebhooks returns a list of webhooks for a project

<a name="Client.GetProjects"></a>
### func \(\*Client\) GetProjects

```go
func (c *Client) GetProjects() ([]Project, error)
```

GetProjects returns a list of projects

<a name="Client.GetTask"></a>
### func \(\*Client\) GetTask

```go
func (c *Client) GetTask(taskID int) (Task, error)
```

GetTask returns a task

<a name="Client.GetTaskComments"></a>
### func \(\*Client\) GetTaskComments

```go
func (c *Client) GetTaskComments(taskID int) ([]Comment, error)
```

GetTaskComments returns a list of comments for a task

<a name="Client.GetUsersOnAProject"></a>
### func \(\*Client\) GetUsersOnAProject

```go
func (c *Client) GetUsersOnAProject(projectID int) ([]User, error)
```

GetUsersOnAProject returns a list of users added to a project

<a name="Client.UpdateProject"></a>
### func \(\*Client\) UpdateProject

```go
func (c *Client) UpdateProject(project Project) (Project, error)
```

UpdateProject updates a project

<a name="Client.UpdateProjectWebhook"></a>
### func \(\*Client\) UpdateProjectWebhook

```go
func (c *Client) UpdateProjectWebhook(projectID int, webhook Webhook) (Webhook, error)
```

UpdateProjectWebhook updates a webhook for a project, only can update events \(nothing else\)

<a name="Client.UpdateTask"></a>
### func \(\*Client\) UpdateTask

```go
func (c *Client) UpdateTask(task Task) (Task, error)
```

UpdateTask updates a task

<a name="Comment"></a>
## type Comment



```go
type Comment struct {
    ID      int    `json:"id"`
    Comment string `json:"comment"`
    Author  User   `json:"author"`
    Created string `json:"created"`
    Updated string `json:"updated"`
}
```

<a name="GetLatestComment"></a>
### func GetLatestComment

```go
func GetLatestComment(comments []Comment) (Comment, error)
```

GetLatestComment returns the latest comment from a list of comments

<a name="Label"></a>
## type Label



```go
type Label struct {
    ID          int    `json:"id"`
    Title       string `json:"title"`
    Description string `json:"description"`
    HexColor    string `json:"hex_color"`
    CreatedBy   User   `json:"created_by"`
    Created     string `json:"created"`
    Updated     string `json:"updated"`
}
```

<a name="LabelsWithGivenTitles"></a>
### func LabelsWithGivenTitles

```go
func LabelsWithGivenTitles(labels []Label, titles []string) ([]Label, error)
```

LabelsWithGivenTitles returns a list of labels with the given titles If the title of a label is not found, an error is returned, it is expected that you only provide valid titles

<a name="LabelID"></a>
## type LabelID

LabelID is a struct used to communicate to vikunja which label you are after. It is not the ID field in Label though.

```go
type LabelID struct {
    ID      int    `json:"label_id"`
    Created string `json:"created,omitempty"`
}
```

<a name="Project"></a>
## type Project

Project is a struct that represents a project in Vikunja

```go
type Project struct {
    ID                    int         `json:"id"`
    Title                 string      `json:"title"`
    HexColor              string      `json:"hex_color"`
    BackgroundBlurHash    string      `json:"background_blur_hash"`
    Position              float64     `json:"position"`
    Created               string      `json:"created"`
    Updated               string      `json:"updated"`
    Description           string      `json:"description"`
    DefaultBucketID       int         `json:"default_bucket_id"`
    DoneBucketID          int         `json:"done_bucket_id"`
    Identifier            string      `json:"identifier"`
    IsArchived            bool        `json:"is_archived"`
    IsFavorite            bool        `json:"is_favorite"`
    Owner                 User        `json:"owner"`
    ParentProjectID       int         `json:"parent_project_id"`
    BackgroundInformation interface{} `json:"background_information"`
}
```

<a name="Task"></a>
## type Task

Task represents a task in Vikunja

```go
type Task struct {
    ID                     int                      `json:"id"`
    Title                  string                   `json:"title"`
    Description            string                   `json:"description"`
    Done                   bool                     `json:"done"`
    DoneAt                 string                   `json:"done_at"`
    DueDate                string                   `json:"due_date"`
    Reminders              interface{}              `json:"reminders"`
    ProjectID              int                      `json:"project_id"`
    RepeatAfter            int                      `json:"repeat_after"`
    RepeatMode             int                      `json:"repeat_mode"`
    Priority               int                      `json:"priority"`
    StartDate              string                   `json:"start_date"`
    EndDate                string                   `json:"end_date"`
    Assignees              []User                   `json:"assignees"`
    Labels                 []Label                  `json:"labels"`
    HexColor               string                   `json:"hex_color"`
    PercentDone            float32                  `json:"percent_done"`
    Identifier             string                   `json:"identifier"`
    Index                  int                      `json:"index"`
    RelatedTasks           map[string][]interface{} `json:"related_tasks,omitempty"` // Marking this with []Task instead of interface{} causes parsing errors...
    Attachments            interface{}              `json:"attachments"`
    CoverImageAttachmentID int                      `json:"cover_image_attachment_id"`
    IsFavorite             bool                     `json:"is_favorite"`
    Created                string                   `json:"created"`
    Updated                string                   `json:"updated"`
    BucketID               int                      `json:"bucket_id"`
    Position               float64                  `json:"position"`
    KanbanPosition         float64                  `json:"kanban_position"`
    CreatedBy              User                     `json:"created_by"`
}
```

<a name="User"></a>
## type User

User is a struct that represents a user in Vikunja

```go
type User struct {
    ID       int    `json:"id"`
    Name     string `json:"name"`
    Username string `json:"username"`
    Created  string `json:"created"`
    Updated  string `json:"updated"`
}
```

<a name="VikunjaWebhookEventType"></a>
## type VikunjaWebhookEventType



```go
type VikunjaWebhookEventType string
```

<a name="ProjectDeleted"></a>

```go
const (
    ProjectDeleted        VikunjaWebhookEventType = "project.deleted"
    TaskAssigneeCreated   VikunjaWebhookEventType = "task.assignee.created"
    TaskCommentCreated    VikunjaWebhookEventType = "task.comment.created"
    TaskDeleted           VikunjaWebhookEventType = "task.deleted"
    TaskRelationCreated   VikunjaWebhookEventType = "task.relation.created"
    TaskCommentDeleted    VikunjaWebhookEventType = "task.comment.deleted"
    TaskAssigneeDeleted   VikunjaWebhookEventType = "task.assignee.deleted"
    ProjectSharedTeam     VikunjaWebhookEventType = "project.shared.team"
    ProjectSharedUser     VikunjaWebhookEventType = "project.shared.user"
    TaskAttachmentCreated VikunjaWebhookEventType = "task.attachment.created"
    TaskCommentEdited     VikunjaWebhookEventType = "task.comment.edited"
    TaskRelationDeleted   VikunjaWebhookEventType = "task.relation.deleted"
    TaskUpdated           VikunjaWebhookEventType = "task.updated"
    TaskCreated           VikunjaWebhookEventType = "task.created"
    TaskAttachmentDeleted VikunjaWebhookEventType = "task.attachment.deleted"
    ProjectUpdated        VikunjaWebhookEventType = "project.updated"
)
```

<a name="Webhook"></a>
## type Webhook

Webhook represents a webhook in Vikunja

```go
type Webhook struct {
    ID        int      `json:"id"`
    TargetURL string   `json:"target_url"`
    Events    []string `json:"events"`
    ProjectID int      `json:"project_id"`
    Secret    *string  `json:"secret,omitempty"`
    Created   *string  `json:"created,omitempty"`
    Updated   *string  `json:"updated,omitempty"`
    CreatedBy *User    `json:"created_by,omitempty"`
}
```

<a name="WebhookCallback"></a>
## type WebhookCallback

WebhookCallback represents a webhook callback

```go
type WebhookCallback struct {
    EventName VikunjaWebhookEventType `json:"event_name"`
    Time      string                  `json:"time"`
    Data      WebhookCallbackData     `json:"data"`
}
```

<a name="WebhookCallbackData"></a>
## type WebhookCallbackData

WebhookCallbackData represents the data that is sent to a webhook callback

```go
type WebhookCallbackData struct {
    Doer User `json:"doer"`
    Task Task `json:"task"`
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
